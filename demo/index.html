<!doctype html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />

    <!-- Content inside bower:css is auto-generated via `grunt bowerInstall` -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/normalize-css/normalize.css" />
    <!-- endbower -->

    <link href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css" rel="stylesheet" />
    <link href="dist/<%= config.fileName %>.css" rel="stylesheet" />
    <link href="assets/prism.css" rel="stylesheet" />
    <link href="assets/demo.css" rel="stylesheet" />

    <!-- Content inside bower:js is auto-generated via `grunt bowerInstall` -->
    <!-- bower:js -->
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
    <script src="bower_components/lodash/dist/lodash.compat.js"></script>
    <script src="bower_components/momentjs/moment.js"></script>
    <!-- endbower -->

    <script src="dist/<%= config.fileNameTpl %>.min.js"></script>

    <title>Encore UI</title>
</head>
<body ng-app="demoApp">
    <script>
        // this script is at the top of the HTML so that any modules
        // needing the demoApp module can use it

        angular.module('demoApp', ['encore.ui'])
        .run(function ($rootScope, $location, $anchorScroll) {
            // Hack to make anchor link navigation work
            document.addEventListener('click', function (ev) {
                var target = ev.target;

                if (target.className.indexOf('item-link') > -1) {
                    // prevent the default jump to top
                    ev.preventDefault();

                    // update angular location
                    $location.hash(target.getAttribute('href'));

                    // run angular scrollTo
                    $anchorScroll();
                }
            });

            $rootScope.components = [{
                title: 'All Components',
                children: [
                    <% config.demoModules.forEach(function (module) {  %>
                    {
                        href: '<%= module.name %>',
                        linkText: '<%= module.name %>'
                    },
                    <% }); %>
                ]
            }];
        });
    </script>

    <rx-app site-title="Encore Demo App" menu="components">
        <rx-page page-title="Encore-UI Components">
            <p><strong><a href="ngdocs/index.html">ngdocs for Encore-UI</a></strong></p>

            <% config.demoModules.forEach(function(module) { %>
                <section class="component">
                    <a id="<%= module.name %>"></a>
                    <h2 class="section-title component-title"><%= module.displayName %><small>
                          (encore.ui.<%= module.name %>)
                      </small></h2>
                    <div class="pure-g">
                        <% if(module.docs.html) { %>
                        <div class="pure-u-1-2 component-example">
                            <%= module.docs.html %>
                        </div>
                        <% } %>
                        <div class="pure-u-1-2 component-description" ng-non-bindable>
                            <%= module.docs.md %>
                        </div>
                    </div>
                    <div class="pure-g component-code">
                        <% if(module.docs.html) { %>
                        <div class="pure-u-1-2">
                            <h3>Markup</h3>
                            <pre ng-non-bindable><code class="language-markup"><%- module.docs.html %></code></pre>
                        </div>
                        <% } %>
                        <% if(module.docs.js) { %>
                        <div class="pure-u-1-2">
                            <h3>JavaScript</h3>
                            <pre ng-non-bindable><code class="language-clike"><%- module.docs.js %></code></pre>
                        </div>
                        <% } %>
                    </div>
                </section>
                <script><%= module.docs.js %></script>
            <% }); %>
        </rx-page>
    </rx-app>

    <script src="assets/prism.js"></script>
</body>
</html>
