<div ng-controller="rxMiscCtrl">
    <h2 class="title">Form with automatically saved state</h2>
    <p>
        Try entering some data into this form, and then navigating away to a different page. When you return here,
        the form data will automatically be populated with what you had previously entered.
    </p>
    <p>
        Once you've tried that, you can clear the stored data with either of the "Clear" buttons below. Clicking those
        will <em>not</em> erase the form, but will erase the rxAutoSave stored data. If you navigate away after clicking
        one of the buttons, and then return here, the form will not be auto-populated, because rxAutoSave will have no data for it!
    </p>

    <p>
        Finally, we have set a Time-To-Live of 24 hours for this form, and explicitly told it not to save the "Sensitive data" field
        into storage. If you enter data here, and come back &gt;24 hours later, the form will not be auto-populated, as the data will
        have expired.
    </p>
    <form name="demoForm">
            <rx-form-item label="A checkbox field!">
                <input type="checkbox" ng-model="formData.checkbox" />
            </rx-form-item>

            <rx-form-item label="Name">
                <input type="text" ng-model="formData.name"/>
            </rx-form-item>

            <rx-form-item label="Description">
                <textarea rows="10" cols="50" ng-model="formData.description"></textarea>
            </rx-form-item>
        
            <rx-form-item label="Sensitive data" description="We'll tell rxAutoSave not to save this data">
                <input type="text" ng-model="formData.sensitive"/>
            </rx-form-item>
    </form>

    <rx-button
        ng-click="clearStorage()"
        toggle="status.loading"
        default-msg="Clear rxAutoSave"
        toggle-msg="Clearing rxAutoSave data"
        disable="status.disable">
    </rx-button>
    
    <rx-button
        ng-click="deferredClear()"
        toggle="status.deferredLoading"
        default-msg="Clear rxAutoSave by resolving a promise"
        toggle-msg="Clearing rxAutoSave data"
        disable="status.deferredDisable">
    </rx-button>
</div>
